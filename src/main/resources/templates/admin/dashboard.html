<!DOCTYPE html>
<html
        lang="vi"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{admin/layout}"
>
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard</title>
</head>
<body>
<div layout:fragment="content">
  <div class="row mb-4">
    <div class="col-xl-3 col-md-6">
      <div class="card card-stats mb-4 mb-xl-0 bg-white">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0">
                Người dùng
              </h5>
              <span class="h2 font-weight-bold mb-0" th:text="${totalUsers}"
              >0</span
              >
            </div>
            <div class="col-auto">
              <div
                      class="icon-shape bg-primary text-white rounded-circle shadow"
              >
                <i class="fas fa-users"></i>
              </div>
            </div>
          </div>
          <p class="mt-3 mb-0 text-muted text-sm">
            <a th:href="@{/admin/users}" class="text-nowrap text-primary"
            >Xem chi tiết</a
            >
          </p>
        </div>
      </div>
    </div>
    <div class="col-xl-3 col-md-6">
      <div class="card card-stats mb-4 mb-xl-0 bg-white">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0">Sản phẩm</h5>
              <span class="h2 font-weight-bold mb-0" th:text="${totalProducts}"
              >0</span
              >
            </div>
            <div class="col-auto">
              <div
                      class="icon-shape bg-success text-white rounded-circle shadow"
              >
                <i class="fa-solid fa-laptop"></i>
              </div>
            </div>
          </div>
          <p class="mt-3 mb-0 text-muted text-sm">
            <a th:href="@{/admin/products}" class="text-nowrap text-success"
            >Xem chi tiết</a
            >
          </p>
        </div>
      </div>
    </div>
    <div class="col-xl-3 col-md-6">
      <div class="card card-stats mb-4 mb-xl-0 bg-white">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <h5 class="card-title text-uppercase text-muted mb-0">
                Báo cáo
              </h5>
              <span class="h2 font-weight-bold mb-0">0</span>
            </div>
            <div class="col-auto">
              <div
                      class="icon-shape bg-info text-white rounded-circle shadow"
              >
                <i class="fas fa-chart-bar"></i>
              </div>
            </div>
          </div>
          <p class="mt-3 mb-0 text-muted text-sm">
            <span class="text-nowrap text-info">Xem báo cáo</span>
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-xl-8 mb-5 mb-xl-0">
      <div class="card bg-white shadow">
        <div class="card-header bg-transparent border-0">
          <h3 class="mb-0">Danh sách sản phẩm mới nhất</h3>
        </div>
        <div class="table-responsive">
          <table class="table align-items-center table-flush">
            <thead class="thead-light">
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Tên sản phẩm</th>
              <th scope="col">Hãng</th>
              <th scope="col">Loại</th>
              <th scope="col">Thao tác</th>
            </tr>
            </thead>
            <tbody>
            <tr
                    th:each="product, productStat : ${products}"
                    th:if="${productStat.index < 5}"
            >
              <td th:text="${product.id}">1</td>
              <td th:text="${product.productTitle}">Hp Victus 16</td>
              <td th:text="${product.brand}">HP</td>
              <td th:text="${product.productColor}">Đen</td>
              <td>
                <a
                        th:href="@{/product/{id}(id=${product.id})}"
                        class="btn btn-sm btn-primary"
                >Xem</a
                >
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-xl-4">
      <div class="card bg-white shadow">
        <div class="card-header bg-transparent border-0">
          <h3 class="mb-0">Người dùng mới nhất</h3>
        </div>
        <div class="table-responsive">
          <table class="table align-items-center table-flush">
            <thead class="thead-light">
            <tr>
              <th scope="col">Tên</th>
              <th scope="col">Email</th>
              <th scope="col">Vai trò</th>
            </tr>
            </thead>
            <tbody>
            <tr
                    th:each="user, userStat : ${users}"
                    th:if="${userStat.index < 5}"
            >
              <td th:text="${user.firstName}">Admin</td>
              <td th:text="${user.email}">admin@example.com</td>
              <td>
                      <span
                              class="badge"
                              th:each="role : ${user.roles}"
                              th:classappend="${role == T(com.oop.ptit.group4.shoppingweb.domain.Role).ADMIN ? 'bg-danger' : 'bg-info'}"
                              th:text="${role}"
                      >ADMIN</span
                      >
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
