<div th:fragment="product-item (product)" class="col-lg-3 d-flex align-items-stretch">
    <div class="card mb-5 shadow position-relative" th:if="${product.getFilename()}">
        <!-- Product Image -->
        <img th:src="@{/img/{path} (path = ${product.getFilename()})}"
             class="rounded mx-auto mt-3"
             style="width: 80%; max-height: 200px; object-fit: contain;">

        <!-- Card Body -->
        <div class="card-body text-center">
            <!-- Product Title -->
            <a th:href="@{/product/{productId} (productId = ${product.getId()})}">
                <h5 th:text="${product.getProductTitle()}"
                    class="text-primary"
                    style="font-weight: bold; font-size: 16px;">
                </h5>
            </a>
            <!-- Specifications -->
            <div class="mt-2" style="font-size: 13px; line-height: 1.4;">
                <p th:if="${product.getRam()}" class="mb-1">
                    <strong>RAM:</strong> <span th:text="${product.getRam()}"></span>
                </p>
                <p th:if="${product.getHardDisk()}" class="mb-1">
                    <strong>Ổ cứng:</strong> <span th:text="${product.getHardDisk()}"></span>
                </p>
                <p th:if="${product.getCard()}" class="mb-1">
                    <strong>Card:</strong> <span th:text="${product.getCard()}"></span>
                </p>
            </div>

            <!-- Pricing -->
            <div class="mt-3">
                <h4 class="d-inline-block py-2 px-4"
                    style="background-color: #ff9800; color: white; border-radius: 5px; font-size: 16px; font-weight: bold;">
                    <span th:text="${#numbers.formatDecimal(product.getPrice(), 0, 'COMMA', 0, 'POINT')}"></span>đ
                </h4>
            </div>
        </div>
    </div>
</div>

<div th:fragment="brand-item" class="col-2 float-left">
    <a th:href="${'/product?brands=' + brand}">
        <img class="img-fluid" th:src="${src}" alt="">
    </a>
</div>

<div th:fragment="products-brand-checkbox(brand)" class="checkbox">
    <label>
        <input th:value="${brand}" type="checkbox" name="brands" onChange="this.form.submit()"
               th:checked="${searchRequest.getBrands() != null ? #arrays.contains(searchRequest.getBrands(), brand) : false}"/>
        <span class="cr"><i class="cr-icon fas fa-check"></i></span>
        <th:block th:text="${brand}"></th:block>
    </label>
</div>

<div th:fragment="products-color-checkbox(color)" class="checkbox">
    <label>
        <input th:value="${color}" type="checkbox" name="colors" onChange="this.form.submit()"
               th:checked="${searchRequest.getColors() != null ? #arrays.contains(searchRequest.getColors(), color) : false}"/>
        <span class="cr"><i class="cr-icon fas fa-check"></i></span>
        <th:block th:text="${#strings.capitalize(color)}"></th:block>
    </label>
</div>

<!--<div th:fragment="products-price-checkbox" class="checkbox">-->
<!--    <label>-->
<!--        <input th:value="${startingPrice}" type="radio" name="price" onChange="this.form.submit()"-->
<!--               th:checked="${searchRequest.getPrice() != null ? startingPrice == searchRequest.getPrice() : false}"/>-->
<!--        <span class="cr"><i class="cr-icon fas fa-check"></i></span>-->
<!--        <th:block th:text="${startingPrice == 0} ? 'any' : ${startingPrice} + ' - ' + ${endingPrice}"></th:block>-->
<!--    </label>-->
<!--</div>-->

<div th:fragment="products-price-checkbox" class="checkbox">
    <label>
        <input th:value="${startingPrice}" type="radio" name="price" onChange="this.form.submit()"
               th:checked="${searchRequest.getPrice() != null ? startingPrice == searchRequest.getPrice() : false}"/>
        <span class="cr"><i class="cr-icon fas fa-check"></i></span>
        <th:block th:text="${startingPrice == 0 ? 'Bất kỳ' : 'Từ ' + #numbers.formatDecimal(startingPrice, 0, 'COMMA', 0, 'POINT') + ' - ' + #numbers.formatDecimal(endingPrice, 0, 'COMMA', 0, 'POINT')}"></th:block>
    </label>
</div>

